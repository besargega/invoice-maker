{"ast":null,"code":"var _jsxFileName = \"/home/besargega/Documents/react-invoice-generator/src/components/EditableFileImage.tsx\";\nimport React, { useRef, useState } from 'react';\nimport { Image } from '@react-pdf/renderer';\nimport useOnClickOutside from '../hooks/useOnClickOutside';\nimport compose from '../styles/compose';\nimport 'rc-slider/assets/index.css';\nimport logo from '../images/logo.jpg';\nconst EditableFileImage = _ref => {\n  let {\n    className,\n    placeholder,\n    value,\n    width,\n    onChangeImage,\n    onChangeWidth,\n    pdfMode\n  } = _ref;\n  const fileInput = useRef(null);\n  const widthWrapper = useRef(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const marks = {\n    100: '100px',\n    150: '150px',\n    200: '200px',\n    250: '250px'\n  };\n  const handleClickOutside = () => {\n    if (isEditing) {\n      setIsEditing(false);\n    }\n  };\n  useOnClickOutside(widthWrapper, handleClickOutside);\n  const handleUpload = () => {\n    var _fileInput$current;\n    fileInput === null || fileInput === void 0 ? void 0 : (_fileInput$current = fileInput.current) === null || _fileInput$current === void 0 ? void 0 : _fileInput$current.click();\n  };\n  const handleChangeImage = () => {\n    var _fileInput$current2;\n    if (fileInput === null || fileInput === void 0 ? void 0 : (_fileInput$current2 = fileInput.current) === null || _fileInput$current2 === void 0 ? void 0 : _fileInput$current2.files) {\n      const files = fileInput.current.files;\n      if (files.length > 0 && typeof onChangeImage === 'function') {\n        const reader = new FileReader();\n        reader.addEventListener('load', () => {\n          if (typeof reader.result === 'string') {\n            onChangeImage(reader.result);\n          }\n        });\n        reader.readAsDataURL(files[0]);\n      }\n    }\n  };\n  const handleChangeWidth = value => {\n    if (typeof onChangeWidth === 'function') {\n      onChangeWidth(value);\n    }\n  };\n  const handleEdit = () => {\n    setIsEditing(!isEditing);\n  };\n  const clearImage = () => {\n    if (typeof onChangeImage === 'function') {\n      onChangeImage('');\n    }\n  };\n  if (pdfMode) {\n    if (value) {\n      return /*#__PURE__*/React.createElement(Image, {\n        style: {\n          ...compose(`image ${className ? className : ''}`),\n          maxWidth: width\n        },\n        src: logo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, null);\n    }\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `image ${value ? 'mb-5' : ''} ${className ? className : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    style: {\n      ...compose(`image ${className ? className : ''}`),\n      maxWidth: width\n    },\n    src: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 8\n    }\n  }));\n};\nexport default EditableFileImage;","map":{"version":3,"names":["React","useRef","useState","Image","useOnClickOutside","compose","logo","EditableFileImage","_ref","className","placeholder","value","width","onChangeImage","onChangeWidth","pdfMode","fileInput","widthWrapper","isEditing","setIsEditing","marks","handleClickOutside","handleUpload","_fileInput$current","current","click","handleChangeImage","_fileInput$current2","files","length","reader","FileReader","addEventListener","result","readAsDataURL","handleChangeWidth","handleEdit","clearImage","createElement","style","maxWidth","src","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment"],"sources":["/home/besargega/Documents/react-invoice-generator/src/components/EditableFileImage.tsx"],"sourcesContent":["import React, { FC, useRef, useState } from 'react'\nimport Slider from 'rc-slider'\nimport { Image } from '@react-pdf/renderer'\nimport useOnClickOutside from '../hooks/useOnClickOutside'\nimport compose from '../styles/compose'\nimport 'rc-slider/assets/index.css'\nimport logo from '../images/logo.jpg'\n\ninterface Props {\n  className?: string\n  placeholder?: string\n  value?: string\n  width?: number\n  onChangeImage?: (value: string) => void\n  onChangeWidth?: (value: number) => void\n  pdfMode?: boolean\n}\n\nconst EditableFileImage: FC<Props> = ({ className, placeholder, value, width, onChangeImage, onChangeWidth, pdfMode }) => {\n  const fileInput = useRef<HTMLInputElement>(null)\n  const widthWrapper = useRef<HTMLDivElement>(null)\n  const [isEditing, setIsEditing] = useState<boolean>(false)\n  const marks = {\n    100: '100px',\n    150: '150px',\n    200: '200px',\n    250: '250px'\n  }\n\n  const handleClickOutside = () => {\n    if (isEditing) {\n      setIsEditing(false)\n    }\n  }\n\n  useOnClickOutside(widthWrapper, handleClickOutside)\n\n  const handleUpload = () => {\n    fileInput?.current?.click()\n  }\n\n  const handleChangeImage = () => {\n    if (fileInput?.current?.files) {\n      const files = fileInput.current.files\n\n      if (files.length > 0 && typeof onChangeImage === 'function') {\n        const reader = new FileReader()\n\n        reader.addEventListener('load', () => {\n          if (typeof reader.result === 'string') {\n            onChangeImage(reader.result)\n          }\n        })\n\n        reader.readAsDataURL(files[0])\n      }\n    }\n  }\n\n  const handleChangeWidth = (value: number) => {\n    if (typeof onChangeWidth === 'function') {\n      onChangeWidth(value)\n    }\n  }\n\n  const handleEdit = () => {\n    setIsEditing(!isEditing)\n  }\n\n  const clearImage = () => {\n    if (typeof onChangeImage === 'function') {\n      onChangeImage('')\n    }\n  }\n\n  if (pdfMode) {\n    if (value) {\n      return (\n        <Image\n          style={{...compose(`image ${className ? className : ''}`), maxWidth: width}}\n          src={logo}\n        />\n      )\n    } else {\n      return <></>\n    }\n  }\n\n  return (\n    <div className={`image ${value ? 'mb-5' : ''} ${className ? className : ''}`}>\n       <Image\n          style={{...compose(`image ${className ? className : ''}`), maxWidth: width}}\n          src={logo}\n        />\n    </div>\n  )\n}\n\nexport default EditableFileImage\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}